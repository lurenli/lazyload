(function () {
'use strict';

"use strict";
var o = [];
o.push.apply(o, Sizzle('.img'));
o.push.apply(o, Sizzle('.imgBg'));
var lazy = new Lazyload({
    obj: o,
    range: 100 //容差范围
});
//自定义提示
lazy.tip = function (o) {
    var obj = o.o, schedule = o.schedule;
    if (obj.lazy_isEchoTip === undefined) {
        obj.lazy_isEchoTip = true;
        obj.lazy_otip = document.createElement('canvas');
        obj.lazy_otip.className = 'imgLoadTip';
        obj.lazy_otipText = document.createElement('span');
        obj.lazy_otipText.className = 'imgLoadTipText';
        obj.lazy_otipCtx = obj.lazy_otip.getContext('2d');
        obj.lazy_otip.width = 60;
        obj.lazy_otip.height = 60;
        obj.parentNode.insertBefore(obj.lazy_otip, obj.nextSibling);
        obj.parentNode.insertBefore(obj.lazy_otipText, obj.nextSibling);
    }
    
    var c = obj.lazy_otip, ctx = obj.lazy_otipCtx, w = c.width, h = c.height, r = c.width / 2, deg = Math.PI / 180;
    //绘制背景
    ctx.clearRect(0, 0, w, h);
    ctx.beginPath();
    ctx.arc(r, r, r, 0 * deg, 360 * deg);
    ctx.fillStyle = 'rgba(57,57,57,0.8)';
    ctx.closePath();
    ctx.fill();
    //绘制内圈
    ctx.beginPath();
    ctx.arc(r, r, r - 10, 0 * deg, 360 * deg);
    ctx.fillStyle = 'rgba(0,0,0,0.2)';
    ctx.closePath();
    ctx.fill();
    //绘制进度
    var v = schedule * 360;
    ctx.beginPath();
    ctx.moveTo(r, r);
    ctx.arc(r, r, r - 10, -90 * deg, (-90 + v) * deg);
    ctx.fillStyle = 'rgba(176,227,110,1)';
    ctx.closePath();
    ctx.fill();
    //进度文字
    var text = parseInt(schedule * 100) + '%';
    obj.lazy_otipText.innerHTML = text;
    //删除绘图和提示文字
    if (schedule === 1 && obj.lazy_isEchoTip) {
        obj.parentNode.removeChild(obj.lazy_otip);
        obj.parentNode.removeChild(obj.lazy_otipText);
    }
    
};
lazy.init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYW4vd29yay93ZWIvbGF6eWxvYWQvc3JjL2pzL2RlbW8uZXM2Il0sInNvdXJjZXNDb250ZW50IjpbImxldCBvID0gW107XG5vLnB1c2goLi4uU2l6emxlKCcuaW1nJykpO1xuby5wdXNoKC4uLlNpenpsZSgnLmltZ0JnJykpO1xuXG5sZXQgbGF6eSA9IG5ldyBMYXp5bG9hZCh7XG4gICAgb2JqOm8sICAgICAgICAgIC8v5oeS5Yqg6L295YWD57SgXG4gICAgcmFuZ2U6MTAwICAgICAgIC8v5a655beu6IyD5Zu0XG59KTtcblxuLy/oh6rlrprkuYnmj5DnpLpcbmxhenkudGlwID0gKG8pPT57XG4gICAgbGV0IG9iaiA9IG8ubyxcbiAgICAgICAgc2NoZWR1bGUgPSBvLnNjaGVkdWxlO1xuXG4gICAgaWYob2JqLmxhenlfaXNFY2hvVGlwID09PSB1bmRlZmluZWQpe1xuICAgICAgICBvYmoubGF6eV9pc0VjaG9UaXAgPSB0cnVlO1xuICAgICAgICBvYmoubGF6eV9vdGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIG9iai5sYXp5X290aXAuY2xhc3NOYW1lID0gJ2ltZ0xvYWRUaXAnO1xuXG4gICAgICAgIG9iai5sYXp5X290aXBUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBvYmoubGF6eV9vdGlwVGV4dC5jbGFzc05hbWUgPSAnaW1nTG9hZFRpcFRleHQnO1xuXG4gICAgICAgIG9iai5sYXp5X290aXBDdHggPSBvYmoubGF6eV9vdGlwLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIG9iai5sYXp5X290aXAud2lkdGggPSA2MDtcbiAgICAgICAgb2JqLmxhenlfb3RpcC5oZWlnaHQgPSA2MDtcbiAgICAgICAgXG4gICAgICAgIG9iai5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvYmoubGF6eV9vdGlwLG9iai5uZXh0U2libGluZyk7IFxuICAgICAgICBvYmoucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUob2JqLmxhenlfb3RpcFRleHQsb2JqLm5leHRTaWJsaW5nKTtcbiAgICB9O1xuXG4gICAgbGV0IGMgPSBvYmoubGF6eV9vdGlwLFxuICAgICAgICBjdHggPSBvYmoubGF6eV9vdGlwQ3R4LFxuICAgICAgICB3ID0gYy53aWR0aCxcbiAgICAgICAgaCA9IGMuaGVpZ2h0LFxuICAgICAgICByID0gYy53aWR0aCAvIDIsXG4gICAgICAgIGRlZyA9IE1hdGguUEkvMTgwO1xuXG4gICAgLy/nu5jliLbog4zmma9cbiAgICBjdHguY2xlYXJSZWN0KDAsMCx3LGgpO1xuXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMociwgciwgciwgMCpkZWcsIDM2MCpkZWcpO1xuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSg1Nyw1Nyw1NywwLjgpJztcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIC8v57uY5Yi25YaF5ZyIXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMociwgciwgciAtIDEwLCAwKmRlZywgMzYwKmRlZyk7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsMCwwLDAuMiknO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIFxuICAgIC8v57uY5Yi26L+b5bqmXG4gICAgbGV0IHYgPSBzY2hlZHVsZSAqIDM2MDtcbiAgICBcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhyLHIpO1xuICAgIGN0eC5hcmMociwgciwgciAtIDEwLCAtOTAqZGVnLCAoLTkwICsgdikgKmRlZyk7XG4gICAgXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDE3NiwyMjcsMTEwLDEpJztcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcblxuICAgIC8v6L+b5bqm5paH5a2XXG4gICAgbGV0IHRleHQgPSBwYXJzZUludChzY2hlZHVsZSAqIDEwMCkgKyAnJSc7XG4gICAgb2JqLmxhenlfb3RpcFRleHQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICBcbiAgICAvL+WIoOmZpOe7mOWbvuWSjOaPkOekuuaWh+Wtl1xuICAgIGlmKHNjaGVkdWxlID09PSAxICYmIG9iai5sYXp5X2lzRWNob1RpcCl7XG4gICAgICAgIG9iai5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9iai5sYXp5X290aXApO1xuICAgICAgICBvYmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvYmoubGF6eV9vdGlwVGV4dCk7IFxuICAgIH07XG59O1xuXG5sYXp5LmluaXQoKTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNYLENBQUMsQ0FBQyxJQUFJLE9BQU4sQ0FBQyxFQUFTLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUMxQixDQUFDLENBQUMsSUFBSSxPQUFOLENBQUMsRUFBUyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUU7QUFFNUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUM7SUFDcEIsR0FBRyxFQUFDLENBQUM7SUFDTCxLQUFLLEVBQUMsR0FBRztDQUNaLENBQUMsQ0FBQzs7QUFHSCxJQUFJLENBQUMsR0FBRyxHQUFHLFVBQUMsQ0FBQztJQUNULElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQ1QsUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFFMUIsSUFBRyxHQUFHLENBQUMsY0FBYyxLQUFLLFNBQVMsRUFBQztRQUNoQyxHQUFHLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMxQixHQUFHLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakQsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsWUFBWSxDQUFDO1FBRXZDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENB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